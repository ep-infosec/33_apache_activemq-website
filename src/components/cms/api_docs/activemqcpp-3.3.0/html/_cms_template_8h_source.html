<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>activemq-cpp-3.3.0: src/main/activemq/cmsutil/CmsTemplate.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">activemq-cpp-3.3.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_cms_template_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>src/main/activemq/cmsutil/CmsTemplate.h</h1>  </div>
</div>
<div class="contents">
<a href="_cms_template_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Licensed to the Apache Software Foundation (ASF) under one or more</span>
<a name="l00003"></a>00003 <span class="comment"> * contributor license agreements.  See the NOTICE file distributed with</span>
<a name="l00004"></a>00004 <span class="comment"> * this work for additional information regarding copyright ownership.</span>
<a name="l00005"></a>00005 <span class="comment"> * The ASF licenses this file to You under the Apache License, Version 2.0</span>
<a name="l00006"></a>00006 <span class="comment"> * (the &quot;License&quot;); you may not use this file except in compliance with</span>
<a name="l00007"></a>00007 <span class="comment"> * the License.  You may obtain a copy of the License at</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span>
<a name="l00012"></a>00012 <span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00013"></a>00013 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00014"></a>00014 <span class="comment"> * See the License for the specific language governing permissions and</span>
<a name="l00015"></a>00015 <span class="comment"> * limitations under the License.</span>
<a name="l00016"></a>00016 <span class="comment"> */</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#ifndef ACTIVEMQ_CMSUTIL_CMSTEMPLATE_H_</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor">#define ACTIVEMQ_CMSUTIL_CMSTEMPLATE_H_</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;activemq/util/Config.h&gt;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;activemq/cmsutil/CmsDestinationAccessor.h&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;activemq/cmsutil/SessionCallback.h&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;activemq/cmsutil/ProducerCallback.h&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;activemq/cmsutil/SessionPool.h&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;cms/ConnectionFactory.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;cms/DeliveryMode.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="keyword">namespace </span>activemq {
<a name="l00031"></a>00031 <span class="keyword">namespace </span>cmsutil {
<a name="l00032"></a>00032 
<a name="l00033"></a>00033     <span class="comment">// Forward declarations.</span>
<a name="l00034"></a>00034     <span class="keyword">class </span>MessageCreator;
<a name="l00035"></a>00035 
<a name="l00060"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html">00060</a>     <span class="keyword">class </span><a class="code" href="activemq_2util_2_config_8h.html#acbd131a10f5c91fc363bbb90be74faff">AMQCPP_API</a> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a> : <span class="keyword">public</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_destination_accessor.html" title="Extends the CmsAccessor to add support for resolving destination names.">CmsDestinationAccessor</a> {
<a name="l00061"></a>00061     <span class="keyword">public</span>:
<a name="l00062"></a>00062 
<a name="l00067"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a156f0bfce611d5bd9691f829cc0a02ba">00067</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a156f0bfce611d5bd9691f829cc0a02ba" title="Timeout value indicating that a receive operation should check if a message is immediately available ...">RECEIVE_TIMEOUT_NO_WAIT</a>;
<a name="l00068"></a>00068 
<a name="l00072"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a9130e86fdc6fba3eb65c093c8e3a1e26">00072</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a9130e86fdc6fba3eb65c093c8e3a1e26" title="Timeout value indicating a blocking receive without timeout.">RECEIVE_TIMEOUT_INDEFINITE_WAIT</a>;
<a name="l00073"></a>00073 
<a name="l00077"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a807e77bbd2593f0ad24c8a96286a7193">00077</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a807e77bbd2593f0ad24c8a96286a7193" title="Default message priority.">DEFAULT_PRIORITY</a>;
<a name="l00078"></a>00078 
<a name="l00082"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a1529a95b1bdd2a6456330deb06cc3109">00082</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a1529a95b1bdd2a6456330deb06cc3109" title="My default, messages should live forever.">DEFAULT_TIME_TO_LIVE</a>;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     <span class="keyword">public</span>:
<a name="l00085"></a>00085 
<a name="l00089"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a4a55812457b2b1284a043987b18099fb">00089</a>         <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">ProducerExecutor</a>;
<a name="l00090"></a>00090         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">ProducerExecutor</a>;
<a name="l00091"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">00091</a>         <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">ProducerExecutor</a> : <span class="keyword">public</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_session_callback.html" title="Callback for executing any number of operations on a provided CMS Session.">SessionCallback</a> {
<a name="l00092"></a>00092         <span class="keyword">protected</span>:
<a name="l00093"></a>00093 
<a name="l00094"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#a515f9a94e0ab341e90e7880def952c6d">00094</a>             <a class="code" href="classactivemq_1_1cmsutil_1_1_producer_callback.html" title="Callback for sending a message to a CMS destination.">ProducerCallback</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#a515f9a94e0ab341e90e7880def952c6d">action</a>;
<a name="l00095"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#abbed8ee060eaea851931b5b0d1136313">00095</a>             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#abbed8ee060eaea851931b5b0d1136313">parent</a>;
<a name="l00096"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#a4e39450f805516a5ed59b627df6b786c">00096</a>             <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#a4e39450f805516a5ed59b627df6b786c">destination</a>;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098         <span class="keyword">private</span>:
<a name="l00099"></a>00099 
<a name="l00100"></a>00100             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">ProducerExecutor</a>( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">ProducerExecutor</a>&amp; );
<a name="l00101"></a>00101             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">ProducerExecutor</a>&amp; operator= ( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">ProducerExecutor</a>&amp; );
<a name="l00102"></a>00102 
<a name="l00103"></a>00103         <span class="keyword">public</span>:
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#a0b186f746d3cc225bbae80b85c0cf275">00105</a>             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">ProducerExecutor</a>( <a class="code" href="classactivemq_1_1cmsutil_1_1_producer_callback.html" title="Callback for sending a message to a CMS destination.">ProducerCallback</a>* action,
<a name="l00106"></a>00106                               <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>* parent,
<a name="l00107"></a>00107                               <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* destination )
<a name="l00108"></a>00108             : <a class="code" href="classactivemq_1_1cmsutil_1_1_session_callback.html" title="Callback for executing any number of operations on a provided CMS Session.">SessionCallback</a>(), action( action ), parent( parent ), destination( destination ) {
<a name="l00109"></a>00109             }
<a name="l00110"></a>00110 
<a name="l00111"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#a15700236deb3d6f7ab1ef8357a1b533c">00111</a>             <span class="keyword">virtual</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#a15700236deb3d6f7ab1ef8357a1b533c">~ProducerExecutor</a>() throw() {}
<a name="l00112"></a>00112 
<a name="l00113"></a>00113             <span class="keyword">virtual</span> <span class="keywordtype">void</span> doInCms( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session );
<a name="l00114"></a>00114 
<a name="l00115"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#af9cbaaf0c170a4aa4ea6c5f3eef625c0">00115</a>             <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html#af9cbaaf0c170a4aa4ea6c5f3eef625c0">getDestination</a>( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session AMQCPP_UNUSED ) {
<a name="l00116"></a>00116                 <span class="keywordflow">return</span> destination;
<a name="l00117"></a>00117             }
<a name="l00118"></a>00118         };
<a name="l00119"></a>00119 
<a name="l00123"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a841e9ec437b02f86315d8b17a9f5f1ab">00123</a>         <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html">ResolveProducerExecutor</a>;
<a name="l00124"></a>00124         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html">ResolveProducerExecutor</a>;
<a name="l00125"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html">00125</a>         <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html">ResolveProducerExecutor</a> : <span class="keyword">public</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">ProducerExecutor</a> {
<a name="l00126"></a>00126         <span class="keyword">private</span>:
<a name="l00127"></a>00127 
<a name="l00128"></a>00128             std::string destinationName;
<a name="l00129"></a>00129 
<a name="l00130"></a>00130         <span class="keyword">private</span>:
<a name="l00131"></a>00131 
<a name="l00132"></a>00132             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html">ResolveProducerExecutor</a>( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html">ResolveProducerExecutor</a>&amp; );
<a name="l00133"></a>00133             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html">ResolveProducerExecutor</a>&amp; operator= ( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html">ResolveProducerExecutor</a>&amp; );
<a name="l00134"></a>00134 
<a name="l00135"></a>00135         <span class="keyword">public</span>:
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html#a61bfa6d68ae3384188a4f6dbfc377cf1">00137</a>             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html">ResolveProducerExecutor</a>( <a class="code" href="classactivemq_1_1cmsutil_1_1_producer_callback.html" title="Callback for sending a message to a CMS destination.">ProducerCallback</a>* action,
<a name="l00138"></a>00138                                      <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>* parent,
<a name="l00139"></a>00139                                      <span class="keyword">const</span> std::string&amp; destinationName )
<a name="l00140"></a>00140             : <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_producer_executor.html">ProducerExecutor</a>( action, parent, NULL ), destinationName( destinationName ) {
<a name="l00141"></a>00141             }
<a name="l00142"></a>00142 
<a name="l00143"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html#a86e3fd20b42af83d590aaffeca381870">00143</a>             <span class="keyword">virtual</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_producer_executor.html#a86e3fd20b42af83d590aaffeca381870">~ResolveProducerExecutor</a>() throw() {}
<a name="l00144"></a>00144 
<a name="l00145"></a>00145             <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* getDestination( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session );
<a name="l00146"></a>00146         };
<a name="l00147"></a>00147 
<a name="l00151"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a5761d4d39d59b5b691b23c920063718c">00151</a>         <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html">SendExecutor</a>;
<a name="l00152"></a>00152         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html">SendExecutor</a>;
<a name="l00153"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html">00153</a>         <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html">SendExecutor</a> : <span class="keyword">public</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_producer_callback.html" title="Callback for sending a message to a CMS destination.">ProducerCallback</a> {
<a name="l00154"></a>00154         <span class="keyword">private</span>:
<a name="l00155"></a>00155 
<a name="l00156"></a>00156             <a class="code" href="classactivemq_1_1cmsutil_1_1_message_creator.html" title="Creates the user-defined message to be sent by the CmsTemplate.">MessageCreator</a>* messageCreator;
<a name="l00157"></a>00157             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>* parent;
<a name="l00158"></a>00158 
<a name="l00159"></a>00159         <span class="keyword">private</span>:
<a name="l00160"></a>00160 
<a name="l00161"></a>00161             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html">SendExecutor</a>( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html">SendExecutor</a>&amp; );
<a name="l00162"></a>00162             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html">SendExecutor</a>&amp; operator= ( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html">SendExecutor</a>&amp; );
<a name="l00163"></a>00163 
<a name="l00164"></a>00164         <span class="keyword">public</span>:
<a name="l00165"></a>00165 
<a name="l00166"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html#a8e08e0960f9399e0b3e442452a4611b5">00166</a>             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html">SendExecutor</a>( <a class="code" href="classactivemq_1_1cmsutil_1_1_message_creator.html" title="Creates the user-defined message to be sent by the CmsTemplate.">MessageCreator</a>* messageCreator,
<a name="l00167"></a>00167                           <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>* parent )
<a name="l00168"></a>00168             : <a class="code" href="classactivemq_1_1cmsutil_1_1_producer_callback.html" title="Callback for sending a message to a CMS destination.">ProducerCallback</a>(), messageCreator( messageCreator ), parent( parent ) {
<a name="l00169"></a>00169             }
<a name="l00170"></a>00170 
<a name="l00171"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html#a6864f91d0ea4e9eff9cd49915887d716">00171</a>             <span class="keyword">virtual</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html#a6864f91d0ea4e9eff9cd49915887d716">~SendExecutor</a>() throw() {}
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_send_executor.html#adae528c97bb7488ff2b397e842256dcb">00173</a>             <span class="keyword">virtual</span> <span class="keywordtype">void</span> doInCms( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session,
<a name="l00174"></a>00174                                   <a class="code" href="classcms_1_1_message_producer.html" title="A client uses a MessageProducer object to send messages to a Destination.">cms::MessageProducer</a>* producer ) {
<a name="l00175"></a>00175                 parent-&gt;doSend( session, producer, messageCreator );
<a name="l00176"></a>00176             }
<a name="l00177"></a>00177         };
<a name="l00178"></a>00178 
<a name="l00182"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a90b979c03506a4eea22f02547af3e2b5">00182</a>         <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">ReceiveExecutor</a>;
<a name="l00183"></a>00183         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">ReceiveExecutor</a>;
<a name="l00184"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">00184</a>         <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">ReceiveExecutor</a> : <span class="keyword">public</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_session_callback.html" title="Callback for executing any number of operations on a provided CMS Session.">SessionCallback</a> {
<a name="l00185"></a>00185         <span class="keyword">protected</span>:
<a name="l00186"></a>00186 
<a name="l00187"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#a00b02f7299840a387fea506d7a61bd34">00187</a>             <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#a00b02f7299840a387fea506d7a61bd34">destination</a>;
<a name="l00188"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#aee85fb5770ad49a4efe1a194db4c1301">00188</a>             std::string <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#aee85fb5770ad49a4efe1a194db4c1301">selector</a>;
<a name="l00189"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#ad64e1b0c9b774c8e42d3178ab4e3bafc">00189</a>             <span class="keywordtype">bool</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#ad64e1b0c9b774c8e42d3178ab4e3bafc">noLocal</a>;
<a name="l00190"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#af53fbbebb59e3bde5496b4e1c0364ecb">00190</a>             <a class="code" href="classcms_1_1_message.html" title="Root of all messages.">cms::Message</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#af53fbbebb59e3bde5496b4e1c0364ecb">message</a>;
<a name="l00191"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#aac6756ff3028bed02b6ccb1ce67a264e">00191</a>             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#aac6756ff3028bed02b6ccb1ce67a264e">parent</a>;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193         <span class="keyword">private</span>:
<a name="l00194"></a>00194 
<a name="l00195"></a>00195             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">ReceiveExecutor</a>( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">ReceiveExecutor</a>&amp; );
<a name="l00196"></a>00196             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">ReceiveExecutor</a>&amp; operator= ( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">ReceiveExecutor</a>&amp; );
<a name="l00197"></a>00197 
<a name="l00198"></a>00198         <span class="keyword">public</span>:
<a name="l00199"></a>00199 
<a name="l00200"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#a02e9698150a1ef6885a16054e68e6e9b">00200</a>             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">ReceiveExecutor</a>( <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>* parent,
<a name="l00201"></a>00201                              <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* destination,
<a name="l00202"></a>00202                              <span class="keyword">const</span> std::string&amp; selector,
<a name="l00203"></a>00203                              <span class="keywordtype">bool</span> noLocal )
<a name="l00204"></a>00204             : <a class="code" href="classactivemq_1_1cmsutil_1_1_session_callback.html" title="Callback for executing any number of operations on a provided CMS Session.">SessionCallback</a>(),
<a name="l00205"></a>00205               destination( destination ),
<a name="l00206"></a>00206               selector( selector ),
<a name="l00207"></a>00207               noLocal( noLocal ),
<a name="l00208"></a>00208               message( NULL ),
<a name="l00209"></a>00209               parent( parent ) {
<a name="l00210"></a>00210             }
<a name="l00211"></a>00211 
<a name="l00212"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#a8807b4d68200156de695a2014d4aa2e5">00212</a>             <span class="keyword">virtual</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#a8807b4d68200156de695a2014d4aa2e5">~ReceiveExecutor</a>() throw() {}
<a name="l00213"></a>00213 
<a name="l00214"></a>00214             <span class="keyword">virtual</span> <span class="keywordtype">void</span> doInCms( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session );
<a name="l00215"></a>00215 
<a name="l00216"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#a67776a6edc3af46101e412a3476a7539">00216</a>             <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#a67776a6edc3af46101e412a3476a7539">getDestination</a>( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session AMQCPP_UNUSED ) {
<a name="l00217"></a>00217                 <span class="keywordflow">return</span> destination;
<a name="l00218"></a>00218             }
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#ab1324d855be0ecc311625d5b593c7071">00220</a>             <a class="code" href="classcms_1_1_message.html" title="Root of all messages.">cms::Message</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html#ab1324d855be0ecc311625d5b593c7071">getMessage</a>() {
<a name="l00221"></a>00221                 <span class="keywordflow">return</span> message;
<a name="l00222"></a>00222             }
<a name="l00223"></a>00223         };
<a name="l00224"></a>00224 
<a name="l00228"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#ae37324755c936015bff7e8f4ae86df80">00228</a>         <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html">ResolveReceiveExecutor</a>;
<a name="l00229"></a>00229         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html">ResolveReceiveExecutor</a>;
<a name="l00230"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html">00230</a>         <span class="keyword">class </span><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html">ResolveReceiveExecutor</a> : <span class="keyword">public</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">ReceiveExecutor</a> {
<a name="l00231"></a>00231         <span class="keyword">private</span>:
<a name="l00232"></a>00232 
<a name="l00233"></a>00233             std::string destinationName;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235         <span class="keyword">private</span>:
<a name="l00236"></a>00236 
<a name="l00237"></a>00237             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html">ResolveReceiveExecutor</a>( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html">ResolveReceiveExecutor</a>&amp; );
<a name="l00238"></a>00238             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html">ResolveReceiveExecutor</a>&amp; operator= ( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html">ResolveReceiveExecutor</a>&amp; );
<a name="l00239"></a>00239 
<a name="l00240"></a>00240         <span class="keyword">public</span>:
<a name="l00241"></a>00241 
<a name="l00242"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html#aabe7ebe3ecabb9e6014afad3c244399b">00242</a>             <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html">ResolveReceiveExecutor</a>( <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>* parent,
<a name="l00243"></a>00243                                     <span class="keyword">const</span> std::string&amp; selector,
<a name="l00244"></a>00244                                     <span class="keywordtype">bool</span> noLocal,
<a name="l00245"></a>00245                                     <span class="keyword">const</span> std::string&amp; destinationName )
<a name="l00246"></a>00246             : <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_receive_executor.html">ReceiveExecutor</a>( parent, NULL, selector, noLocal ), destinationName( destinationName ) {
<a name="l00247"></a>00247 
<a name="l00248"></a>00248             }
<a name="l00249"></a>00249 
<a name="l00250"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html#ae4225368fa9294481371505908021dba">00250</a>             <span class="keyword">virtual</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template_1_1_resolve_receive_executor.html#ae4225368fa9294481371505908021dba">~ResolveReceiveExecutor</a>() throw() {}
<a name="l00251"></a>00251 
<a name="l00252"></a>00252             <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* getDestination( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session );
<a name="l00253"></a>00253         };
<a name="l00254"></a>00254 
<a name="l00255"></a>00255     <span class="keyword">private</span>:
<a name="l00256"></a>00256 
<a name="l00257"></a>00257         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_SESSION_POOLS = (int)<a class="code" href="classcms_1_1_session.html#ae2fd7b8b76928b465727760c78522185a17a19a271db0053d22939cc8d187b349" title="Messages will be consumed when the transaction commits.">cms::Session::SESSION_TRANSACTED</a> + 1;
<a name="l00258"></a>00258 
<a name="l00259"></a>00259         <a class="code" href="classcms_1_1_connection.html" title="The client&amp;#39;s connection to its provider.">cms::Connection</a>* connection;
<a name="l00260"></a>00260 
<a name="l00261"></a>00261         <a class="code" href="classactivemq_1_1cmsutil_1_1_session_pool.html" title="A pool of CMS sessions from the same connection and with the same acknowledge mode.">SessionPool</a>* sessionPools[NUM_SESSION_POOLS];
<a name="l00262"></a>00262 
<a name="l00263"></a>00263         <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* defaultDestination;
<a name="l00264"></a>00264 
<a name="l00265"></a>00265         std::string defaultDestinationName;
<a name="l00266"></a>00266 
<a name="l00267"></a>00267         <span class="keywordtype">bool</span> messageIdEnabled;
<a name="l00268"></a>00268 
<a name="l00269"></a>00269         <span class="keywordtype">bool</span> messageTimestampEnabled;
<a name="l00270"></a>00270 
<a name="l00271"></a>00271         <span class="keywordtype">bool</span> noLocal;
<a name="l00272"></a>00272 
<a name="l00273"></a>00273         <span class="keywordtype">long</span> <span class="keywordtype">long</span> receiveTimeout;
<a name="l00274"></a>00274 
<a name="l00275"></a>00275         <span class="keywordtype">bool</span> explicitQosEnabled;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         <span class="keywordtype">int</span> deliveryMode;
<a name="l00278"></a>00278 
<a name="l00279"></a>00279         <span class="keywordtype">int</span> priority;
<a name="l00280"></a>00280 
<a name="l00281"></a>00281         <span class="keywordtype">long</span> <span class="keywordtype">long</span> timeToLive;
<a name="l00282"></a>00282 
<a name="l00283"></a>00283         <span class="keywordtype">bool</span> initialized;
<a name="l00284"></a>00284 
<a name="l00285"></a>00285     <span class="keyword">private</span>:
<a name="l00286"></a>00286 
<a name="l00287"></a>00287         <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>&amp; );
<a name="l00288"></a>00288         <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>&amp; operator= ( <span class="keyword">const</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>&amp; );
<a name="l00289"></a>00289 
<a name="l00290"></a>00290     <span class="keyword">public</span>:
<a name="l00291"></a>00291 
<a name="l00292"></a>00292         <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>();
<a name="l00293"></a>00293         <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>( <a class="code" href="classcms_1_1_connection_factory.html" title="Defines the interface for a factory that creates connection objects, the Connection objects returned ...">cms::ConnectionFactory</a>* connectionFactory );
<a name="l00294"></a>00294 
<a name="l00295"></a>00295         <span class="keyword">virtual</span> ~<a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html" title="CmsTemplate simplifies performing synchronous CMS operations.">CmsTemplate</a>() throw();
<a name="l00296"></a>00296 
<a name="l00306"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a5c81c0c696ddc0cc5ad195c67819b32c">00306</a>         virtual <span class="keywordtype">void</span> setDefaultDestination( cms::Destination* defaultDestination ) {
<a name="l00307"></a>00307             this-&gt;defaultDestination = defaultDestination;
<a name="l00308"></a>00308         }
<a name="l00309"></a>00309 
<a name="l00314"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a459789bab4b955a72c1db11269c37e7d">00314</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a459789bab4b955a72c1db11269c37e7d" title="Retrieves the default destination to be used for send/receive operations.">getDefaultDestination</a>()<span class="keyword"> const </span>{
<a name="l00315"></a>00315             <span class="keywordflow">return</span> this-&gt;defaultDestination;
<a name="l00316"></a>00316         }
<a name="l00317"></a>00317 
<a name="l00322"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a95b2e5ceefc64fefc3a40e63395962bc">00322</a>         <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a95b2e5ceefc64fefc3a40e63395962bc" title="Retrieves the default destination to be used for send/receive operations.">getDefaultDestination</a>() {
<a name="l00323"></a>00323             <span class="keywordflow">return</span> this-&gt;defaultDestination;
<a name="l00324"></a>00324         }
<a name="l00325"></a>00325 
<a name="l00335"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a88e4edc09945126d68f882f69ac0d1c8">00335</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a88e4edc09945126d68f882f69ac0d1c8" title="Sets the name of the default destination to be used from send/receive operations.">setDefaultDestinationName</a>( <span class="keyword">const</span> std::string&amp; defaultDestinationName ) {
<a name="l00336"></a>00336             <span class="keywordflow">if</span>( defaultDestinationName != this-&gt;defaultDestinationName ) {
<a name="l00337"></a>00337                 this-&gt;defaultDestination = NULL;
<a name="l00338"></a>00338                 this-&gt;defaultDestinationName = defaultDestinationName;
<a name="l00339"></a>00339             }
<a name="l00340"></a>00340         }
<a name="l00341"></a>00341 
<a name="l00349"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#adbc7ce57c05bae782711ce9b80d50cf2">00349</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> std::string <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#adbc7ce57c05bae782711ce9b80d50cf2" title="Gets the name of the default destination to be used for send/receive operations.">getDefaultDestinationName</a>()<span class="keyword"> const </span>{
<a name="l00350"></a>00350             <span class="keywordflow">return</span> this-&gt;defaultDestinationName;
<a name="l00351"></a>00351         }
<a name="l00352"></a>00352 
<a name="l00360"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#aeb48a050ea5ed5e149008c5bf9242d4e">00360</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#aeb48a050ea5ed5e149008c5bf9242d4e" title="Indicates whether the default destination is a topic (true) or a queue (false).">setPubSubDomain</a>( <span class="keywordtype">bool</span> pubSubDomain ) {
<a name="l00361"></a>00361             <span class="keywordflow">if</span>( pubSubDomain != isPubSubDomain() ) {
<a name="l00362"></a>00362                 this-&gt;defaultDestination = NULL;
<a name="l00363"></a>00363                 <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_destination_accessor.html#a9821890ddfd1a49251637846ca6c9f2c">CmsDestinationAccessor::setPubSubDomain</a>( pubSubDomain );
<a name="l00364"></a>00364             }
<a name="l00365"></a>00365         }
<a name="l00366"></a>00366 
<a name="l00367"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#af6c8ee811705569621e750200497b2f1">00367</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#af6c8ee811705569621e750200497b2f1">setMessageIdEnabled</a>( <span class="keywordtype">bool</span> messageIdEnabled ) {
<a name="l00368"></a>00368             this-&gt;messageIdEnabled = messageIdEnabled;
<a name="l00369"></a>00369         }
<a name="l00370"></a>00370 
<a name="l00371"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a35695be314062c78ccd29385f6e9a696">00371</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a35695be314062c78ccd29385f6e9a696">isMessageIdEnabled</a>()<span class="keyword"> const </span>{
<a name="l00372"></a>00372             <span class="keywordflow">return</span> this-&gt;messageIdEnabled;
<a name="l00373"></a>00373         }
<a name="l00374"></a>00374 
<a name="l00375"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#af4554f605a2012a76006de7f3ea9cf16">00375</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#af4554f605a2012a76006de7f3ea9cf16">setMessageTimestampEnabled</a>( <span class="keywordtype">bool</span> messageTimestampEnabled ) {
<a name="l00376"></a>00376             this-&gt;messageTimestampEnabled = messageTimestampEnabled;
<a name="l00377"></a>00377         }
<a name="l00378"></a>00378 
<a name="l00379"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a366a22b26ce2ee81722dc839b37d9294">00379</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a366a22b26ce2ee81722dc839b37d9294">isMessageTimestampEnabled</a>()<span class="keyword"> const </span>{
<a name="l00380"></a>00380             <span class="keywordflow">return</span> this-&gt;messageTimestampEnabled;
<a name="l00381"></a>00381         }
<a name="l00382"></a>00382 
<a name="l00383"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#af308ba1b238ad2081f7ba4537492de05">00383</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#af308ba1b238ad2081f7ba4537492de05">setNoLocal</a>( <span class="keywordtype">bool</span> noLocal ) {
<a name="l00384"></a>00384             this-&gt;noLocal = noLocal;
<a name="l00385"></a>00385         }
<a name="l00386"></a>00386 
<a name="l00387"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a8b4f15f822dffde7810aa8928a8a88c7">00387</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a8b4f15f822dffde7810aa8928a8a88c7">isNoLocal</a>()<span class="keyword"> const </span>{
<a name="l00388"></a>00388             <span class="keywordflow">return</span> this-&gt;noLocal;
<a name="l00389"></a>00389         }
<a name="l00390"></a>00390 
<a name="l00391"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a3d5cbdb04bec08b7b944d87d845ada14">00391</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a3d5cbdb04bec08b7b944d87d845ada14">setReceiveTimeout</a>( <span class="keywordtype">long</span> <span class="keywordtype">long</span> receiveTimeout ) {
<a name="l00392"></a>00392             this-&gt;receiveTimeout = receiveTimeout;
<a name="l00393"></a>00393         }
<a name="l00394"></a>00394 
<a name="l00395"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a9303e5ca5b74c0ca9f206a7f85e3b972">00395</a>         <span class="keyword">virtual</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a9303e5ca5b74c0ca9f206a7f85e3b972">getReceiveTimeout</a>()<span class="keyword"> const </span>{
<a name="l00396"></a>00396             <span class="keywordflow">return</span> this-&gt;receiveTimeout;
<a name="l00397"></a>00397         }
<a name="l00398"></a>00398 
<a name="l00407"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a00c82ed3fa4e0760ca7f71b5e2a65c23">00407</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a00c82ed3fa4e0760ca7f71b5e2a65c23" title="Set if the QOS values (deliveryMode, priority, timeToLive) should be used for sending a message...">setExplicitQosEnabled</a>( <span class="keywordtype">bool</span> explicitQosEnabled ) {
<a name="l00408"></a>00408             this-&gt;explicitQosEnabled = explicitQosEnabled;
<a name="l00409"></a>00409         }
<a name="l00410"></a>00410 
<a name="l00423"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a4963dbc645bee9f62ca7053c674ed6f8">00423</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a4963dbc645bee9f62ca7053c674ed6f8" title="If &amp;quot;true&amp;quot;, then the values of deliveryMode, priority, and timeToLive will be used when send...">isExplicitQosEnabled</a>()<span class="keyword"> const </span>{
<a name="l00424"></a>00424             <span class="keywordflow">return</span> this-&gt;explicitQosEnabled;
<a name="l00425"></a>00425         }
<a name="l00426"></a>00426 
<a name="l00435"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#afdbb384e66a24b0912c4432966e95a78">00435</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#afdbb384e66a24b0912c4432966e95a78" title="Set whether message delivery should be persistent or non-persistent, specified as boolean value (&amp;quo...">setDeliveryPersistent</a>( <span class="keywordtype">bool</span> deliveryPersistent ) {
<a name="l00436"></a>00436             this-&gt;deliveryMode = (deliveryPersistent ? 0 : 1 );
<a name="l00437"></a>00437         }
<a name="l00438"></a>00438 
<a name="l00447"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a1a7c07213aeee65784e1b8521c001ccd">00447</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a1a7c07213aeee65784e1b8521c001ccd" title="Set the delivery mode to use when sending a message.">setDeliveryMode</a>( <span class="keywordtype">int</span> deliveryMode ) {
<a name="l00448"></a>00448             this-&gt;deliveryMode = deliveryMode;
<a name="l00449"></a>00449         }
<a name="l00450"></a>00450 
<a name="l00454"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a3bf6889c880b940b4a419d9a17ab6674">00454</a>         <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a3bf6889c880b940b4a419d9a17ab6674" title="Return the delivery mode to use when sending a message.">getDeliveryMode</a>()<span class="keyword"> const </span>{
<a name="l00455"></a>00455             <span class="keywordflow">return</span> this-&gt;deliveryMode;
<a name="l00456"></a>00456         }
<a name="l00457"></a>00457 
<a name="l00465"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#aea6e91608560766224c2cf55976e0d44">00465</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#aea6e91608560766224c2cf55976e0d44" title="Set the priority of a message when sending.">setPriority</a>( <span class="keywordtype">int</span> priority ) {
<a name="l00466"></a>00466             this-&gt;priority = priority;
<a name="l00467"></a>00467         }
<a name="l00468"></a>00468 
<a name="l00472"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a8d8d8ef216a5fcb399c99f1d1ed78f39">00472</a>         <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a8d8d8ef216a5fcb399c99f1d1ed78f39" title="Return the priority of a message when sending.">getPriority</a>()<span class="keyword"> const </span>{
<a name="l00473"></a>00473             <span class="keywordflow">return</span> this-&gt;priority;
<a name="l00474"></a>00474         }
<a name="l00475"></a>00475 
<a name="l00484"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a8e776ad78352b02994e0d4f596849085">00484</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#a8e776ad78352b02994e0d4f596849085" title="Set the time-to-live of the message when sending.">setTimeToLive</a>( <span class="keywordtype">long</span> <span class="keywordtype">long</span> timeToLive ) {
<a name="l00485"></a>00485             this-&gt;timeToLive = timeToLive;
<a name="l00486"></a>00486         }
<a name="l00487"></a>00487 
<a name="l00491"></a><a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#ad45b9d807cb582056a167e49c2327ce0">00491</a>         <span class="keyword">virtual</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="classactivemq_1_1cmsutil_1_1_cms_template.html#ad45b9d807cb582056a167e49c2327ce0" title="Return the time-to-live of the message when sending.">getTimeToLive</a>()<span class="keyword"> const </span>{
<a name="l00492"></a>00492             <span class="keywordflow">return</span> this-&gt;timeToLive;
<a name="l00493"></a>00493         }
<a name="l00494"></a>00494 
<a name="l00501"></a>00501         <span class="keyword">virtual</span> <span class="keywordtype">void</span> execute( <a class="code" href="classactivemq_1_1cmsutil_1_1_session_callback.html" title="Callback for executing any number of operations on a provided CMS Session.">SessionCallback</a>* action );
<a name="l00502"></a>00502 
<a name="l00511"></a>00511         <span class="keyword">virtual</span> <span class="keywordtype">void</span> execute( <a class="code" href="classactivemq_1_1cmsutil_1_1_producer_callback.html" title="Callback for sending a message to a CMS destination.">ProducerCallback</a>* action );
<a name="l00512"></a>00512 
<a name="l00523"></a>00523         <span class="keyword">virtual</span> <span class="keywordtype">void</span> execute( <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* dest, <a class="code" href="classactivemq_1_1cmsutil_1_1_producer_callback.html" title="Callback for sending a message to a CMS destination.">ProducerCallback</a>* action );
<a name="l00524"></a>00524 
<a name="l00537"></a>00537         <span class="keyword">virtual</span> <span class="keywordtype">void</span> execute( <span class="keyword">const</span> std::string&amp; destinationName,
<a name="l00538"></a>00538                               <a class="code" href="classactivemq_1_1cmsutil_1_1_producer_callback.html" title="Callback for sending a message to a CMS destination.">ProducerCallback</a>* action );
<a name="l00539"></a>00539 
<a name="l00547"></a>00547         <span class="keyword">virtual</span> <span class="keywordtype">void</span> send( <a class="code" href="classactivemq_1_1cmsutil_1_1_message_creator.html" title="Creates the user-defined message to be sent by the CmsTemplate.">MessageCreator</a>* messageCreator );
<a name="l00548"></a>00548 
<a name="l00558"></a>00558         <span class="keyword">virtual</span> <span class="keywordtype">void</span> send( <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* dest, <a class="code" href="classactivemq_1_1cmsutil_1_1_message_creator.html" title="Creates the user-defined message to be sent by the CmsTemplate.">MessageCreator</a>* messageCreator );
<a name="l00559"></a>00559 
<a name="l00569"></a>00569         <span class="keyword">virtual</span> <span class="keywordtype">void</span> send( <span class="keyword">const</span> std::string&amp; destinationName,
<a name="l00570"></a>00570                            <a class="code" href="classactivemq_1_1cmsutil_1_1_message_creator.html" title="Creates the user-defined message to be sent by the CmsTemplate.">MessageCreator</a>* messageCreator );
<a name="l00571"></a>00571 
<a name="l00577"></a>00577         <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_message.html" title="Root of all messages.">cms::Message</a>* receive();
<a name="l00578"></a>00578 
<a name="l00586"></a>00586         <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_message.html" title="Root of all messages.">cms::Message</a>* receive( <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* destination );
<a name="l00587"></a>00587 
<a name="l00596"></a>00596         <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_message.html" title="Root of all messages.">cms::Message</a>* receive( <span class="keyword">const</span> std::string&amp; destinationName );
<a name="l00597"></a>00597 
<a name="l00607"></a>00607         <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_message.html" title="Root of all messages.">cms::Message</a>* receiveSelected( <span class="keyword">const</span> std::string&amp; selector );
<a name="l00608"></a>00608 
<a name="l00620"></a>00620         <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_message.html" title="Root of all messages.">cms::Message</a>* receiveSelected( <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* destination,
<a name="l00621"></a>00621                                                <span class="keyword">const</span> std::string&amp; selector );
<a name="l00622"></a>00622 
<a name="l00635"></a>00635         <span class="keyword">virtual</span> <a class="code" href="classcms_1_1_message.html" title="Root of all messages.">cms::Message</a>* receiveSelected( <span class="keyword">const</span> std::string&amp; destinationName,
<a name="l00636"></a>00636                                                <span class="keyword">const</span> std::string&amp; selector );
<a name="l00637"></a>00637 
<a name="l00638"></a>00638     <span class="keyword">protected</span>:
<a name="l00639"></a>00639 
<a name="l00640"></a>00640         <span class="keywordtype">void</span> init();
<a name="l00641"></a>00641 
<a name="l00642"></a>00642         <span class="keywordtype">void</span> destroy();
<a name="l00643"></a>00643 
<a name="l00644"></a>00644     <span class="keyword">private</span>:
<a name="l00645"></a>00645 
<a name="l00649"></a>00649         <span class="keywordtype">void</span> initDefaults();
<a name="l00650"></a>00650 
<a name="l00654"></a>00654         <span class="keywordtype">void</span> createSessionPools();
<a name="l00655"></a>00655 
<a name="l00659"></a>00659         <span class="keywordtype">void</span> destroySessionPools();
<a name="l00660"></a>00660 
<a name="l00667"></a>00667         <span class="keywordtype">void</span> checkDefaultDestination();
<a name="l00668"></a>00668 
<a name="l00675"></a>00675         <a class="code" href="classcms_1_1_connection.html" title="The client&amp;#39;s connection to its provider.">cms::Connection</a>* getConnection();
<a name="l00676"></a>00676 
<a name="l00683"></a>00683         <a class="code" href="classactivemq_1_1cmsutil_1_1_pooled_session.html" title="A pooled session object that wraps around a delegate session.">PooledSession</a>* takeSession();
<a name="l00684"></a>00684 
<a name="l00691"></a>00691         <span class="keywordtype">void</span> returnSession( <a class="code" href="classactivemq_1_1cmsutil_1_1_pooled_session.html" title="A pooled session object that wraps around a delegate session.">PooledSession</a>*&amp; session );
<a name="l00692"></a>00692 
<a name="l00704"></a>00704         <a class="code" href="classcms_1_1_message_producer.html" title="A client uses a MessageProducer object to send messages to a Destination.">cms::MessageProducer</a>* createProducer( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session, <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* dest );
<a name="l00705"></a>00705 
<a name="l00712"></a>00712         <span class="keywordtype">void</span> destroyProducer( <a class="code" href="classcms_1_1_message_producer.html" title="A client uses a MessageProducer object to send messages to a Destination.">cms::MessageProducer</a>*&amp; producer );
<a name="l00713"></a>00713 
<a name="l00725"></a>00725         <a class="code" href="classcms_1_1_message_consumer.html" title="A client uses a MessageConsumer to received messages from a destination.">cms::MessageConsumer</a>* createConsumer( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session,
<a name="l00726"></a>00726                                               <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* dest,
<a name="l00727"></a>00727                                               <span class="keyword">const</span> std::string&amp; selector,
<a name="l00728"></a>00728                                               <span class="keywordtype">bool</span> noLocal );
<a name="l00729"></a>00729 
<a name="l00736"></a>00736         <span class="keywordtype">void</span> destroyConsumer( <a class="code" href="classcms_1_1_message_consumer.html" title="A client uses a MessageConsumer to received messages from a destination.">cms::MessageConsumer</a>*&amp; consumer );
<a name="l00737"></a>00737 
<a name="l00743"></a>00743         <span class="keywordtype">void</span> destroyMessage( <a class="code" href="classcms_1_1_message.html" title="Root of all messages.">cms::Message</a>*&amp; message );
<a name="l00744"></a>00744 
<a name="l00755"></a>00755         <span class="keywordtype">void</span> doSend( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session,
<a name="l00756"></a>00756                      <a class="code" href="classcms_1_1_message_producer.html" title="A client uses a MessageProducer object to send messages to a Destination.">cms::MessageProducer</a>* producer,
<a name="l00757"></a>00757                      <a class="code" href="classactivemq_1_1cmsutil_1_1_message_creator.html" title="Creates the user-defined message to be sent by the CmsTemplate.">MessageCreator</a>* messageCreator );
<a name="l00758"></a>00758 
<a name="l00766"></a>00766         <a class="code" href="classcms_1_1_message.html" title="Root of all messages.">cms::Message</a>* doReceive( <a class="code" href="classcms_1_1_message_consumer.html" title="A client uses a MessageConsumer to received messages from a destination.">cms::MessageConsumer</a>* consumer );
<a name="l00767"></a>00767 
<a name="l00775"></a>00775         <a class="code" href="classcms_1_1_destination.html" title="A Destination object encapsulates a provider-specific address.">cms::Destination</a>* resolveDefaultDestination( <a class="code" href="classcms_1_1_session.html" title="A Session object is a single-threaded context for producing and consuming messages.">cms::Session</a>* session );
<a name="l00776"></a>00776 
<a name="l00777"></a>00777     };
<a name="l00778"></a>00778 
<a name="l00779"></a>00779 }}
<a name="l00780"></a>00780 
<a name="l00781"></a>00781 <span class="preprocessor">#endif </span><span class="comment">/*ACTIVEMQ_CMSUTIL_CMSTEMPLATE_H_*/</span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_cms_template_8h.html">CmsTemplate.h</a>      </li>
      <li class="footer">Generated on Tue Apr 12 2011 for activemq-cpp-3.3.0 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>

</body>
</html>
