<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>activemq-cpp-3.6.0: activemq::core::ActiveMQTransactionContext Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">activemq-cpp-3.6.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classactivemq_1_1core_1_1_active_m_q_transaction_context.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">activemq::core::ActiveMQTransactionContext Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Transaction Management class, hold messages that are to be redelivered upon a request to roll-back.  
 <a href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_active_m_q_transaction_context_8h_source.html">src/main/activemq/core/ActiveMQTransactionContext.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for activemq::core::ActiveMQTransactionContext:</div>
<div class="dyncontent">
<div class="center"><img src="classactivemq_1_1core_1_1_active_m_q_transaction_context__inherit__graph.png" border="0" usemap="#activemq_1_1core_1_1_active_m_q_transaction_context_inherit__map" alt="Inheritance graph"/></div>
<map name="activemq_1_1core_1_1_active_m_q_transaction_context_inherit__map" id="activemq_1_1core_1_1_active_m_q_transaction_context_inherit__map">
<area shape="rect" id="node2" href="classcms_1_1_x_a_resource.html" title="The XAResource interface is a CMS mapping of the industry standard XA interface based on the X/Open C..." alt="" coords="61,6,184,34"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3b620b33c5f2f76407d79baba1aa3237"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a3b620b33c5f2f76407d79baba1aa3237">ActiveMQTransactionContext</a> (<a class="el" href="classactivemq_1_1core_1_1kernels_1_1_active_m_q_session_kernel.html">activemq::core::kernels::ActiveMQSessionKernel</a> *session, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classdecaf_1_1util_1_1_properties.html">decaf::util::Properties</a> &amp;properties)</td></tr>
<tr class="memdesc:a3b620b33c5f2f76407d79baba1aa3237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a3b620b33c5f2f76407d79baba1aa3237"></a><br/></td></tr>
<tr class="memitem:ac4dfef10adcd7d8aeae084f347271fb6"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#ac4dfef10adcd7d8aeae084f347271fb6">~ActiveMQTransactionContext</a> ()</td></tr>
<tr class="memitem:a50012b5760c612bd94110f1f8bb6c55a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a50012b5760c612bd94110f1f8bb6c55a">addSynchronization</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classdecaf_1_1lang_1_1_pointer.html">Pointer</a>&lt; <a class="el" href="classactivemq_1_1core_1_1_synchronization.html">Synchronization</a> &gt; &amp;sync)</td></tr>
<tr class="memdesc:a50012b5760c612bd94110f1f8bb6c55a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a <a class="el" href="classactivemq_1_1core_1_1_synchronization.html" title="Transacted Object Synchronization, used to sync the events of a Transaction with the items in the Tra...">Synchronization</a> to this Transaction.  <a href="#a50012b5760c612bd94110f1f8bb6c55a"></a><br/></td></tr>
<tr class="memitem:a0bcf3031be01589289c1c5f801944233"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a0bcf3031be01589289c1c5f801944233">removeSynchronization</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classdecaf_1_1lang_1_1_pointer.html">Pointer</a>&lt; <a class="el" href="classactivemq_1_1core_1_1_synchronization.html">Synchronization</a> &gt; &amp;sync)</td></tr>
<tr class="memdesc:a0bcf3031be01589289c1c5f801944233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a <a class="el" href="classactivemq_1_1core_1_1_synchronization.html" title="Transacted Object Synchronization, used to sync the events of a Transaction with the items in the Tra...">Synchronization</a> to this Transaction.  <a href="#a0bcf3031be01589289c1c5f801944233"></a><br/></td></tr>
<tr class="memitem:a1d3b8764b523f1ea65c082e37f8f1718"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a1d3b8764b523f1ea65c082e37f8f1718">begin</a> ()</td></tr>
<tr class="memdesc:a1d3b8764b523f1ea65c082e37f8f1718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begins a new transaction if one is not currently in progress.  <a href="#a1d3b8764b523f1ea65c082e37f8f1718"></a><br/></td></tr>
<tr class="memitem:aa7313c29c280f59afdfa248a2e871e9d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#aa7313c29c280f59afdfa248a2e871e9d">commit</a> ()</td></tr>
<tr class="memdesc:aa7313c29c280f59afdfa248a2e871e9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit the current Transaction.  <a href="#aa7313c29c280f59afdfa248a2e871e9d"></a><br/></td></tr>
<tr class="memitem:af319574fc790804eb8098766d3da9f2e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#af319574fc790804eb8098766d3da9f2e">rollback</a> ()</td></tr>
<tr class="memdesc:af319574fc790804eb8098766d3da9f2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rollback the current Transaction.  <a href="#af319574fc790804eb8098766d3da9f2e"></a><br/></td></tr>
<tr class="memitem:a9f1ba53cbbd2f53d2501f2e9b453d393"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <br class="typebreak"/>
<a class="el" href="classdecaf_1_1lang_1_1_pointer.html">decaf::lang::Pointer</a><br class="typebreak"/>
&lt; <a class="el" href="classactivemq_1_1commands_1_1_transaction_id.html">commands::TransactionId</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a9f1ba53cbbd2f53d2501f2e9b453d393">getTransactionId</a> () <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
<tr class="memdesc:a9f1ba53cbbd2f53d2501f2e9b453d393"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Transaction Id object for the current Transaction, returns NULL if no transaction is running.  <a href="#a9f1ba53cbbd2f53d2501f2e9b453d393"></a><br/></td></tr>
<tr class="memitem:a36a85310c2a11ecfa1be03e84ba36aa3"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a36a85310c2a11ecfa1be03e84ba36aa3">isInTransaction</a> () <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
<tr class="memdesc:a36a85310c2a11ecfa1be03e84ba36aa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if there is currently a Transaction in progress returns false if not, true otherwise.  <a href="#a36a85310c2a11ecfa1be03e84ba36aa3"></a><br/></td></tr>
<tr class="memitem:a11230957c1a4d634262128edb1225190"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a11230957c1a4d634262128edb1225190">isInLocalTransaction</a> () <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
<tr class="memdesc:a11230957c1a4d634262128edb1225190"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if there is currently an Local Transaction in progess, returns false if not, true otherwise.  <a href="#a11230957c1a4d634262128edb1225190"></a><br/></td></tr>
<tr class="memitem:a4cdfbdc37dcc2d20893226048175009a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a4cdfbdc37dcc2d20893226048175009a">isInXATransaction</a> () <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
<tr class="memdesc:a4cdfbdc37dcc2d20893226048175009a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if there is currently an XA Transaction in progess, returns false if not, true otherwise.  <a href="#a4cdfbdc37dcc2d20893226048175009a"></a><br/></td></tr>
<tr class="memitem:a6192d0d60352c106eaa4634feab8f481"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a6192d0d60352c106eaa4634feab8f481">commit</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *xid, bool onePhase)</td></tr>
<tr class="memdesc:a6192d0d60352c106eaa4634feab8f481"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits a global transaction.  <a href="#a6192d0d60352c106eaa4634feab8f481"></a><br/></td></tr>
<tr class="memitem:a8adaf142de0d078ba2a57c3a2d05e78c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a8adaf142de0d078ba2a57c3a2d05e78c">end</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *xid, int flags)</td></tr>
<tr class="memdesc:a8adaf142de0d078ba2a57c3a2d05e78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the work done for a transaction branch.  <a href="#a8adaf142de0d078ba2a57c3a2d05e78c"></a><br/></td></tr>
<tr class="memitem:a938a99404962df9b4c2e4d0cf7338123"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a938a99404962df9b4c2e4d0cf7338123">forget</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *xid)</td></tr>
<tr class="memdesc:a938a99404962df9b4c2e4d0cf7338123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informs the Resource Manager that it can forget about a specified transaction branch.  <a href="#a938a99404962df9b4c2e4d0cf7338123"></a><br/></td></tr>
<tr class="memitem:a974b07eca37d636aa2d925b9739274fb"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a974b07eca37d636aa2d925b9739274fb">getTransactionTimeout</a> () <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
<tr class="memdesc:a974b07eca37d636aa2d925b9739274fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the transaction timeout value for this XAResource.  <a href="#a974b07eca37d636aa2d925b9739274fb"></a><br/></td></tr>
<tr class="memitem:a52b4eb6d9c08e138a79e56277e948740"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a52b4eb6d9c08e138a79e56277e948740">isSameRM</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_x_a_resource.html">cms::XAResource</a> *theXAResource)</td></tr>
<tr class="memdesc:a52b4eb6d9c08e138a79e56277e948740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the ResourceManager for this XAResource is the same as the Resource Manager for a supplied XAResource.  <a href="#a52b4eb6d9c08e138a79e56277e948740"></a><br/></td></tr>
<tr class="memitem:a40831fc56a1a846a988e8f36e612e0cd"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a40831fc56a1a846a988e8f36e612e0cd">prepare</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *xid)</td></tr>
<tr class="memdesc:a40831fc56a1a846a988e8f36e612e0cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests the Resource manager to prepare to commit a specified transaction.  <a href="#a40831fc56a1a846a988e8f36e612e0cd"></a><br/></td></tr>
<tr class="memitem:af3344d9bf3fc7432945764ff5a0225dc"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#af3344d9bf3fc7432945764ff5a0225dc">recover</a> (int flag, <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> **recovered)</td></tr>
<tr class="memdesc:af3344d9bf3fc7432945764ff5a0225dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of prepared transaction branches.  <a href="#af3344d9bf3fc7432945764ff5a0225dc"></a><br/></td></tr>
<tr class="memitem:a600e044045bc476265ff42778cea2eca"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a600e044045bc476265ff42778cea2eca">rollback</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *xid)</td></tr>
<tr class="memdesc:a600e044045bc476265ff42778cea2eca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests the Resource Manager to rollback a specified transaction branch.  <a href="#a600e044045bc476265ff42778cea2eca"></a><br/></td></tr>
<tr class="memitem:a5d7b91d393ed9483b4ae9c05431a5e60"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a5d7b91d393ed9483b4ae9c05431a5e60">setTransactionTimeout</a> (int seconds)</td></tr>
<tr class="memdesc:a5d7b91d393ed9483b4ae9c05431a5e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the transaction timeout value for this XAResource.  <a href="#a5d7b91d393ed9483b4ae9c05431a5e60"></a><br/></td></tr>
<tr class="memitem:a434abb0d9587de731fd8b1af6d641c9e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html#a434abb0d9587de731fd8b1af6d641c9e">start</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *xid, int flags)</td></tr>
<tr class="memdesc:a434abb0d9587de731fd8b1af6d641c9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts work for a specified transaction branch.  <a href="#a434abb0d9587de731fd8b1af6d641c9e"></a><br/></td></tr>
<tr class="inherit_header pub_methods_classcms_1_1_x_a_resource"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcms_1_1_x_a_resource')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classcms_1_1_x_a_resource.html">cms::XAResource</a></td></tr>
<tr class="memitem:ad6a1fcc9fa9b759653540a7f1ce05acd inherit pub_methods_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#ad6a1fcc9fa9b759653540a7f1ce05acd">~XAResource</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classcms_1_1_x_a_resource"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classcms_1_1_x_a_resource')"><img src="closed.png" alt="-"/>&nbsp;Static Public Attributes inherited from <a class="el" href="classcms_1_1_x_a_resource.html">cms::XAResource</a></td></tr>
<tr class="memitem:a4aa5b8d9bd2424e48076ddaea40ce274 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#a4aa5b8d9bd2424e48076ddaea40ce274">TMENDRSCAN</a></td></tr>
<tr class="memdesc:a4aa5b8d9bd2424e48076ddaea40ce274 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to end a recovery scan.  <a href="#a4aa5b8d9bd2424e48076ddaea40ce274"></a><br/></td></tr>
<tr class="memitem:a92e94b3fa7bd8058738a1ca3e29468f2 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#a92e94b3fa7bd8058738a1ca3e29468f2">TMFAIL</a></td></tr>
<tr class="memdesc:a92e94b3fa7bd8058738a1ca3e29468f2 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate that the caller is dissociation from a transaction branch and that it should be marked rollback only.  <a href="#a92e94b3fa7bd8058738a1ca3e29468f2"></a><br/></td></tr>
<tr class="memitem:a16f4402ee1138466a1505252650bb60a inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#a16f4402ee1138466a1505252650bb60a">TMJOIN</a></td></tr>
<tr class="memdesc:a16f4402ee1138466a1505252650bb60a inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate that the caller is joining sn existing transaction branch.  <a href="#a16f4402ee1138466a1505252650bb60a"></a><br/></td></tr>
<tr class="memitem:a8081b653382c3fe6d12535cf6ac72873 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#a8081b653382c3fe6d12535cf6ac72873">TMNOFLAGS</a></td></tr>
<tr class="memdesc:a8081b653382c3fe6d12535cf6ac72873 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag that indicates that no flags options are selected.  <a href="#a8081b653382c3fe6d12535cf6ac72873"></a><br/></td></tr>
<tr class="memitem:ad22c9b16915bdbf704c290ed24489851 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#ad22c9b16915bdbf704c290ed24489851">TMONEPHASE</a></td></tr>
<tr class="memdesc:ad22c9b16915bdbf704c290ed24489851 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag that indicates the caller is using one-phase commit optimization.  <a href="#ad22c9b16915bdbf704c290ed24489851"></a><br/></td></tr>
<tr class="memitem:a541a68170f8bacaf38bea6773e4ae3b0 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#a541a68170f8bacaf38bea6773e4ae3b0">TMRESUME</a></td></tr>
<tr class="memdesc:a541a68170f8bacaf38bea6773e4ae3b0 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag that indicates the caller is resuming association with a suspended transaction branch.  <a href="#a541a68170f8bacaf38bea6773e4ae3b0"></a><br/></td></tr>
<tr class="memitem:af22d6de56e354ca8ce375ec416018fd0 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#af22d6de56e354ca8ce375ec416018fd0">TMSTARTRSCAN</a></td></tr>
<tr class="memdesc:af22d6de56e354ca8ce375ec416018fd0 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag that indicates the start of a recovery scan.  <a href="#af22d6de56e354ca8ce375ec416018fd0"></a><br/></td></tr>
<tr class="memitem:a32edce9fd105897b28cc4de27890f035 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#a32edce9fd105897b28cc4de27890f035">TMSUCCESS</a></td></tr>
<tr class="memdesc:a32edce9fd105897b28cc4de27890f035 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag that indicates the caller is dissociating from a transaction branch.  <a href="#a32edce9fd105897b28cc4de27890f035"></a><br/></td></tr>
<tr class="memitem:a10c05f2b7cfe650bdeef33248dffba32 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#a10c05f2b7cfe650bdeef33248dffba32">TMSUSPEND</a></td></tr>
<tr class="memdesc:a10c05f2b7cfe650bdeef33248dffba32 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag that indicates that the caller is suspending (not terminating) its association with a transaction branch.  <a href="#a10c05f2b7cfe650bdeef33248dffba32"></a><br/></td></tr>
<tr class="memitem:a2d611f5d517e3ce692418e44f9e48a47 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#a2d611f5d517e3ce692418e44f9e48a47">XA_RDONLY</a></td></tr>
<tr class="memdesc:a2d611f5d517e3ce692418e44f9e48a47 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag that indicates that transaction work has been read only and has been committed normally.  <a href="#a2d611f5d517e3ce692418e44f9e48a47"></a><br/></td></tr>
<tr class="memitem:a9d05280cd12f1bb19495cae6dd4aa721 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcms_1_1_x_a_resource.html#a9d05280cd12f1bb19495cae6dd4aa721">XA_OK</a></td></tr>
<tr class="memdesc:a9d05280cd12f1bb19495cae6dd4aa721 inherit pub_static_attribs_classcms_1_1_x_a_resource"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag that indicates that transaction work has been Prepared normally.  <a href="#a9d05280cd12f1bb19495cae6dd4aa721"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Transaction Management class, hold messages that are to be redelivered upon a request to roll-back. </p>
<p>The Transaction represents an always running transaction, when it is committed or rolled back it silently creates a new transaction for the next set of messages. The only way to permanently end this transaction is to delete it.</p>
<dl class="section since"><dt>Since</dt><dd>2.0 </dd></dl>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3b620b33c5f2f76407d79baba1aa3237"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">activemq::core::ActiveMQTransactionContext::ActiveMQTransactionContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classactivemq_1_1core_1_1kernels_1_1_active_m_q_session_kernel.html">activemq::core::kernels::ActiveMQSessionKernel</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classdecaf_1_1util_1_1_properties.html">decaf::util::Properties</a> &amp;&#160;</td>
          <td class="paramname"><em>properties</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session that contains this transaction </td></tr>
    <tr><td class="paramname">properties</td><td>Configuration parameters for this object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac4dfef10adcd7d8aeae084f347271fb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual activemq::core::ActiveMQTransactionContext::~ActiveMQTransactionContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a50012b5760c612bd94110f1f8bb6c55a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activemq::core::ActiveMQTransactionContext::addSynchronization </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classdecaf_1_1lang_1_1_pointer.html">Pointer</a>&lt; <a class="el" href="classactivemq_1_1core_1_1_synchronization.html">Synchronization</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sync</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a <a class="el" href="classactivemq_1_1core_1_1_synchronization.html" title="Transacted Object Synchronization, used to sync the events of a Transaction with the items in the Tra...">Synchronization</a> to this Transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync</td><td>- The <a class="el" href="classactivemq_1_1core_1_1_synchronization.html" title="Transacted Object Synchronization, used to sync the events of a Transaction with the items in the Tra...">Synchronization</a> instance to add. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1d3b8764b523f1ea65c082e37f8f1718"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activemq::core::ActiveMQTransactionContext::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Begins a new transaction if one is not currently in progress. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ActiveMQException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa7313c29c280f59afdfa248a2e871e9d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activemq::core::ActiveMQTransactionContext::commit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Commit the current Transaction. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ActiveMQException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6192d0d60352c106eaa4634feab8f481"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activemq::core::ActiveMQTransactionContext::commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *&#160;</td>
          <td class="paramname"><em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>onePhase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Commits a global transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xid</td><td>the XID which identifies the global transaction. </td></tr>
    <tr><td class="paramname">onePhase</td><td>true if the resource manager should use a one-phase commit protocol to commit the transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">XAException</td><td>if an error occurred. </td></tr>
  </table>
  </dd>
</dl>
<p>Possible errors are identified by the errorcode in the XAException and include: XA_HEURHAZ, XA_HEURCOM, XA_HEURRB, XA_HEURMIX, XAER_RMERR, XAER_RMFAIL, XAER_NOTA, XAER_INVAL, or XAER_PROTO. In addition, one of the XA_RB* errors can occur if the transaction was not committed and onePhase was set to true. On completion of this method, the Resource Manager has rolled back the transaction and released resources held by the transaction. </p>

<p>Implements <a class="el" href="classcms_1_1_x_a_resource.html#ae52536f123d2eb3d2ad813f4a87cc877">cms::XAResource</a>.</p>

</div>
</div>
<a class="anchor" id="a8adaf142de0d078ba2a57c3a2d05e78c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activemq::core::ActiveMQTransactionContext::end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *&#160;</td>
          <td class="paramname"><em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ends the work done for a transaction branch. </p>
<p>The Resource Manager disconnects the XA resource from the transaction branch and allows the transaction to complete.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xid</td><td>the XID which identifies the global transaction. Should have previously been used as the parameter to a start. method. </td></tr>
    <tr><td class="paramname">flags</td><td>a flags integer - one of: XAResource::TMSUCCESS, XAResource::TMFAIL, or XAResource::TMSUSPEND. </td></tr>
  </table>
  </dd>
</dl>
<p>TMSUCCESS means that this section of work completed successfully. </p>
<p>TMFAIL means that this section of work failed. The Resource Manager can mark the transaction for rollback only. </p>
<p>TMSUSPEND means that this section of work is suspended and not yet complete. The associated transaction context is also suspended and must be restarted with a call to <a class="el" href="">start(Xid, int)</a> with the TMRESUME flag.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">XAException</td><td>if an error occurs. Possible error identified in the errorcode include: XAER_RMERR, XAER_RMFAIL, XAER_NOTA, XAER_INVAL, XAER_PROTO, or XA_RB*. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classcms_1_1_x_a_resource.html#a9dd11c9f2f0c66fc5978ee224b90c0b6">cms::XAResource</a>.</p>

</div>
</div>
<a class="anchor" id="a938a99404962df9b4c2e4d0cf7338123"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activemq::core::ActiveMQTransactionContext::forget </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *&#160;</td>
          <td class="paramname"><em>xid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Informs the Resource Manager that it can forget about a specified transaction branch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xid</td><td>the XID which identifies the global transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">XAException</td><td>if an error occurs. Possible error identified in the errorcode include: XAER_RMERR, XAER_RMFAIL, XAER_NOTA, XAER_INVAL, or XAER_PROTO. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classcms_1_1_x_a_resource.html#aed4a352da4e57b39237596465c846302">cms::XAResource</a>.</p>

</div>
</div>
<a class="anchor" id="a9f1ba53cbbd2f53d2501f2e9b453d393"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classdecaf_1_1lang_1_1_pointer.html">decaf::lang::Pointer</a>&lt;<a class="el" href="classactivemq_1_1commands_1_1_transaction_id.html">commands::TransactionId</a>&gt;&amp; activemq::core::ActiveMQTransactionContext::getTransactionId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the Transaction Id object for the current Transaction, returns NULL if no transaction is running. </p>
<dl class="section return"><dt>Returns</dt><dd>TransactionInfo </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">InvalidStateException</td><td>if a Transaction is not in progress. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a974b07eca37d636aa2d925b9739274fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int activemq::core::ActiveMQTransactionContext::getTransactionTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the transaction timeout value for this XAResource. </p>
<p>The default timeout value is the default timeout value set for the Resource Manager.</p>
<dl class="section return"><dt>Returns</dt><dd>the transaction timeout value for this XAResource in seconds.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">XAException</td><td>if an error occurs. Possible error identified in the errorcode include: XAER_RMERR and XAER_RMFAIL. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classcms_1_1_x_a_resource.html#a97605ca8f12df606ce1354b7887811c5">cms::XAResource</a>.</p>

</div>
</div>
<a class="anchor" id="a11230957c1a4d634262128edb1225190"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool activemq::core::ActiveMQTransactionContext::isInLocalTransaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks to see if there is currently an Local Transaction in progess, returns false if not, true otherwise. </p>
<dl class="section return"><dt>Returns</dt><dd>true if an Local Transaction is in progress. </dd></dl>

</div>
</div>
<a class="anchor" id="a36a85310c2a11ecfa1be03e84ba36aa3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool activemq::core::ActiveMQTransactionContext::isInTransaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks to see if there is currently a Transaction in progress returns false if not, true otherwise. </p>
<dl class="section return"><dt>Returns</dt><dd>true if a transaction is in progress. </dd></dl>

</div>
</div>
<a class="anchor" id="a4cdfbdc37dcc2d20893226048175009a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool activemq::core::ActiveMQTransactionContext::isInXATransaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks to see if there is currently an XA Transaction in progess, returns false if not, true otherwise. </p>
<dl class="section return"><dt>Returns</dt><dd>true if an XA Transaction is in progress. </dd></dl>

</div>
</div>
<a class="anchor" id="a52b4eb6d9c08e138a79e56277e948740"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool activemq::core::ActiveMQTransactionContext::isSameRM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_x_a_resource.html">cms::XAResource</a> *&#160;</td>
          <td class="paramname"><em>theXAResource</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the ResourceManager for this XAResource is the same as the Resource Manager for a supplied XAResource. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theXAResource</td><td>an XAResource object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the Resource Manager for this XAResource is the same as the Resource Manager for <code>theXAResource</code>. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">XAException</td><td>if an error occurs. Possible error identified in the errorcode include: XAER_RMERR and XAER_RMFAIL. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classcms_1_1_x_a_resource.html#ae277d9cdb092fefa979b9c73d312d0ab">cms::XAResource</a>.</p>

</div>
</div>
<a class="anchor" id="a40831fc56a1a846a988e8f36e612e0cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int activemq::core::ActiveMQTransactionContext::prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *&#160;</td>
          <td class="paramname"><em>xid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requests the Resource manager to prepare to commit a specified transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xid</td><td>the XID which identifies the global transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an integer: XA_RDONLY or XA_OK. XA_OK implies that the transaction work has been prepared normally, XA_RDONLY implies that the transaction branch is read only and has been committed. If there is a failure which requires a rollback, an XAException is raised.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">XAException</td><td>if an error occurs. Possible error identified in the errorcode include: XA_RB*, XAER_RMERR, XAER_RMFAIL, XAER_NOTA, XAER_INVAL, or XAER_PROTO. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classcms_1_1_x_a_resource.html#a3540a731b294cc2ea4bcc580072bd09f">cms::XAResource</a>.</p>

</div>
</div>
<a class="anchor" id="af3344d9bf3fc7432945764ff5a0225dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int activemq::core::ActiveMQTransactionContext::recover </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcms_1_1_xid.html">cms::Xid</a> **&#160;</td>
          <td class="paramname"><em>recovered</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of prepared transaction branches. </p>
<p>Typically used by a transaction manager during recovery to find transaction branches that are in prepared or heuristically completed states.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>an integer. Must be one of: XAResource::TMSTARTRSCAN, XAResource::TMENDRSCAN, XAResource::TMNOFLAGS.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an array of zero or more XIDs identifying the transaction branches in the prepared or heuristically completed states.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">XAException</td><td>if an error occurs. Possible error identified in the errorcode include: XAER_RMERR, XAER_RMFAIL, XAER_INVAL, and XAER_PROTO. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classcms_1_1_x_a_resource.html#a03895d28f59daed8c9d2ffa937462378">cms::XAResource</a>.</p>

</div>
</div>
<a class="anchor" id="a0bcf3031be01589289c1c5f801944233"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activemq::core::ActiveMQTransactionContext::removeSynchronization </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classdecaf_1_1lang_1_1_pointer.html">Pointer</a>&lt; <a class="el" href="classactivemq_1_1core_1_1_synchronization.html">Synchronization</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sync</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a <a class="el" href="classactivemq_1_1core_1_1_synchronization.html" title="Transacted Object Synchronization, used to sync the events of a Transaction with the items in the Tra...">Synchronization</a> to this Transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync</td><td>- The <a class="el" href="classactivemq_1_1core_1_1_synchronization.html" title="Transacted Object Synchronization, used to sync the events of a Transaction with the items in the Tra...">Synchronization</a> instance to add. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af319574fc790804eb8098766d3da9f2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activemq::core::ActiveMQTransactionContext::rollback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rollback the current Transaction. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ActiveMQException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a600e044045bc476265ff42778cea2eca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activemq::core::ActiveMQTransactionContext::rollback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *&#160;</td>
          <td class="paramname"><em>xid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requests the Resource Manager to rollback a specified transaction branch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xid</td><td>the XID which identifies the transaction branch.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">XAException</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classcms_1_1_x_a_resource.html#a2e88cbccff7fa6a336806414c2daeb5a">cms::XAResource</a>.</p>

</div>
</div>
<a class="anchor" id="a5d7b91d393ed9483b4ae9c05431a5e60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool activemq::core::ActiveMQTransactionContext::setTransactionTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the transaction timeout value for this XAResource. </p>
<p>If the value is set to 0, the default timeout value for the Resource Manager is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seconds</td><td>the new Timeout value in seconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the transaction timeout value has been updated, false otherwise.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">XAException</td><td>if an error occurs. Possible error identified in the errorcode include: XAER_RMERR, XAER_RMFAIL, or XAER_INVAL. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classcms_1_1_x_a_resource.html#ae0eaac2bc4fd3fb8c807f7bdeac8c2a6">cms::XAResource</a>.</p>

</div>
</div>
<a class="anchor" id="a434abb0d9587de731fd8b1af6d641c9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activemq::core::ActiveMQTransactionContext::start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="classcms_1_1_xid.html">cms::Xid</a> *&#160;</td>
          <td class="paramname"><em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts work for a specified transaction branch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xid</td><td>the XID which identifies the transaction branch. </td></tr>
    <tr><td class="paramname">flags</td><td>an integer. Must be one of XAResource::TMNOFLAGS, XAResource::TMJOIN, or XAResource::TMRESUME. </td></tr>
  </table>
  </dd>
</dl>
<p>TMJOIN implies that the start applies to joining a transaction previously passed to the Resource Manager. </p>
<p>TMRESUME implies that the start applies to a suspended transaction that should be restarted. </p>
<p>If TMNOFLAGS is specified, then if the transaction has been previously seen by the Resource Manager, an XAException is raised with the code XAER_DUPID.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">XAException</td><td>if an error occurs. Possible error identified in the errorcode include: XA_RB*, XAER_RMERR, XAER_RMFAIL, XAER_DUPID, XAER_OUTSIDE, XAER_NOTA, XAER_INVAL, or XAER_PROTO. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classcms_1_1_x_a_resource.html#a90850ed5d77e2f3f4c349888e847874c">cms::XAResource</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/activemq/core/<a class="el" href="_active_m_q_transaction_context_8h_source.html">ActiveMQTransactionContext.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceactivemq.html">activemq</a></li><li class="navelem"><a class="el" href="namespaceactivemq_1_1core.html">core</a></li><li class="navelem"><a class="el" href="classactivemq_1_1core_1_1_active_m_q_transaction_context.html">ActiveMQTransactionContext</a></li>
    <li class="footer">Generated on Mon Mar 4 2013 10:25:48 for activemq-cpp-3.6.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
